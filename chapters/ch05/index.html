<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Building Single-Source Training Systems at Scale"><meta name=author content="Daniel Yarmoluk"><link href=https://yarmoluk.github.io/claude-content-architecture/chapters/ch05/ rel=canonical><link href=../ch04/ rel=prev><link href=../ch06/ rel=next><link rel=icon href=../../assets/images/favicon.png><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.7.1"><title>Ch 5: Automated Quality Assurance - AI-Native Content Architecture</title><link rel=stylesheet href=../../assets/stylesheets/main.484c7ddc.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.ab4e12ef.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=teal data-md-color-accent=cyan> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#chapter-5-automated-quality-assurance class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title="AI-Native Content Architecture" class="md-header__button md-logo" aria-label="AI-Native Content Architecture" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> AI-Native Content Architecture </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Ch 5: Automated Quality Assurance </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=default data-md-color-primary=teal data-md-color-accent=cyan aria-label="Switch to dark mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> <input class=md-option data-md-color-media data-md-color-scheme=slate data-md-color-primary=teal data-md-color-accent=cyan aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/Yarmoluk/claude-content-architecture title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> Yarmoluk/claude-content-architecture </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../../course-description/ class=md-tabs__link> Course Description </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../ class=md-tabs__link> Chapters </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title="AI-Native Content Architecture" class="md-nav__button md-logo" aria-label="AI-Native Content Architecture" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg> </a> AI-Native Content Architecture </label> <div class=md-nav__source> <a href=https://github.com/Yarmoluk/claude-content-architecture title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> Yarmoluk/claude-content-architecture </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. class=md-nav__link> <span class=md-ellipsis> Home </span> </a> </li> <li class=md-nav__item> <a href=../../course-description/ class=md-nav__link> <span class=md-ellipsis> Course Description </span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3 checked> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex> <span class=md-ellipsis> Chapters </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=true> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Chapters </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../ class=md-nav__link> <span class=md-ellipsis> Overview </span> </a> </li> <li class=md-nav__item> <a href=../ch01/ class=md-nav__link> <span class=md-ellipsis> Ch 1: Knowledge Graph Foundations </span> </a> </li> <li class=md-nav__item> <a href=../ch02/ class=md-nav__link> <span class=md-ellipsis> Ch 2: Modular Content Architecture </span> </a> </li> <li class=md-nav__item> <a href=../ch03/ class=md-nav__link> <span class=md-ellipsis> Ch 3: AI-Augmented Content Generation </span> </a> </li> <li class=md-nav__item> <a href=../ch04/ class=md-nav__link> <span class=md-ellipsis> Ch 4: Multi-Audience Adaptation </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Ch 5: Automated Quality Assurance </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Ch 5: Automated Quality Assurance </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#learning-objectives class=md-nav__link> <span class=md-ellipsis> Learning Objectives </span> </a> </li> <li class=md-nav__item> <a href=#why-content-quality-cannot-be-manual-at-scale class=md-nav__link> <span class=md-ellipsis> Why Content Quality Cannot Be Manual at Scale </span> </a> </li> <li class=md-nav__item> <a href=#the-qa-pipeline-architecture class=md-nav__link> <span class=md-ellipsis> The QA Pipeline Architecture </span> </a> </li> <li class=md-nav__item> <a href=#layer-1-schema-validation class=md-nav__link> <span class=md-ellipsis> Layer 1: Schema Validation </span> </a> </li> <li class=md-nav__item> <a href=#layer-2-quality-rubric-scoring class=md-nav__link> <span class=md-ellipsis> Layer 2: Quality Rubric Scoring </span> </a> <nav class=md-nav aria-label="Layer 2: Quality Rubric Scoring"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#rubric-design class=md-nav__link> <span class=md-ellipsis> Rubric Design </span> </a> </li> <li class=md-nav__item> <a href=#rubric-implementation class=md-nav__link> <span class=md-ellipsis> Rubric Implementation </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#layer-3-consistency-checks class=md-nav__link> <span class=md-ellipsis> Layer 3: Consistency Checks </span> </a> </li> <li class=md-nav__item> <a href=#layer-4-coverage-scoring class=md-nav__link> <span class=md-ellipsis> Layer 4: Coverage Scoring </span> </a> </li> <li class=md-nav__item> <a href=#integrating-qa-into-the-review-workflow class=md-nav__link> <span class=md-ellipsis> Integrating QA Into the Review Workflow </span> </a> </li> <li class=md-nav__item> <a href=#qa-dashboard-metrics class=md-nav__link> <span class=md-ellipsis> QA Dashboard Metrics </span> </a> </li> <li class=md-nav__item> <a href=#key-takeaways class=md-nav__link> <span class=md-ellipsis> Key Takeaways </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../ch06/ class=md-nav__link> <span class=md-ellipsis> Ch 6: Content Drift Detection </span> </a> </li> <li class=md-nav__item> <a href=../ch07/ class=md-nav__link> <span class=md-ellipsis> Ch 7: Metrics and Learner Outcomes </span> </a> </li> <li class=md-nav__item> <a href=../ch08/ class=md-nav__link> <span class=md-ellipsis> Ch 8: Scaling Content Operations </span> </a> </li> <li class=md-nav__item> <a href=../ch09/ class=md-nav__link> <span class=md-ellipsis> Ch 9: Version Control for Training Content </span> </a> </li> <li class=md-nav__item> <a href=../ch10/ class=md-nav__link> <span class=md-ellipsis> Ch 10: API and SDK Documentation Systems </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#learning-objectives class=md-nav__link> <span class=md-ellipsis> Learning Objectives </span> </a> </li> <li class=md-nav__item> <a href=#why-content-quality-cannot-be-manual-at-scale class=md-nav__link> <span class=md-ellipsis> Why Content Quality Cannot Be Manual at Scale </span> </a> </li> <li class=md-nav__item> <a href=#the-qa-pipeline-architecture class=md-nav__link> <span class=md-ellipsis> The QA Pipeline Architecture </span> </a> </li> <li class=md-nav__item> <a href=#layer-1-schema-validation class=md-nav__link> <span class=md-ellipsis> Layer 1: Schema Validation </span> </a> </li> <li class=md-nav__item> <a href=#layer-2-quality-rubric-scoring class=md-nav__link> <span class=md-ellipsis> Layer 2: Quality Rubric Scoring </span> </a> <nav class=md-nav aria-label="Layer 2: Quality Rubric Scoring"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#rubric-design class=md-nav__link> <span class=md-ellipsis> Rubric Design </span> </a> </li> <li class=md-nav__item> <a href=#rubric-implementation class=md-nav__link> <span class=md-ellipsis> Rubric Implementation </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#layer-3-consistency-checks class=md-nav__link> <span class=md-ellipsis> Layer 3: Consistency Checks </span> </a> </li> <li class=md-nav__item> <a href=#layer-4-coverage-scoring class=md-nav__link> <span class=md-ellipsis> Layer 4: Coverage Scoring </span> </a> </li> <li class=md-nav__item> <a href=#integrating-qa-into-the-review-workflow class=md-nav__link> <span class=md-ellipsis> Integrating QA Into the Review Workflow </span> </a> </li> <li class=md-nav__item> <a href=#qa-dashboard-metrics class=md-nav__link> <span class=md-ellipsis> QA Dashboard Metrics </span> </a> </li> <li class=md-nav__item> <a href=#key-takeaways class=md-nav__link> <span class=md-ellipsis> Key Takeaways </span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=chapter-5-automated-quality-assurance>Chapter 5: Automated Quality Assurance<a class=headerlink href=#chapter-5-automated-quality-assurance title="Permanent link">&para;</a></h1> <h2 id=learning-objectives>Learning Objectives<a class=headerlink href=#learning-objectives title="Permanent link">&para;</a></h2> <p>By the end of this chapter, you will be able to:</p> <ul> <li>Design a multi-layer validation pipeline for content module quality</li> <li>Implement rubric-based scoring that catches style, structure, and accuracy violations</li> <li>Build coverage scoring that identifies gaps in concept and audience coverage</li> <li>Create consistency checks that detect contradictions between modules</li> <li>Configure automated QA to run as part of the content review workflow</li> </ul> <hr> <h2 id=why-content-quality-cannot-be-manual-at-scale>Why Content Quality Cannot Be Manual at Scale<a class=headerlink href=#why-content-quality-cannot-be-manual-at-scale title="Permanent link">&para;</a></h2> <p>Manual content review is the standard in most documentation operations. A subject matter expert reads a draft. An editor checks style. A product manager approves. The process works acceptably when content volume is low and change frequency is manageable.</p> <p>In an AI-augmented content system generating hundreds of modules across multiple audiences, manual review cannot keep up. More importantly, manual review is not systematic — different reviewers catch different things, the same reviewer catches different things on different days, and there is no audit trail showing what was checked and what was found.</p> <p>Automated quality assurance does not replace human judgment. It replaces the mechanical checks that humans should not be doing manually: format validation, terminology consistency, length targets, required field completeness, coverage gaps. When these checks run automatically, human reviewers can focus on the judgment calls that require domain expertise and contextual reasoning.</p> <hr> <h2 id=the-qa-pipeline-architecture>The QA Pipeline Architecture<a class=headerlink href=#the-qa-pipeline-architecture title="Permanent link">&para;</a></h2> <p>A content QA pipeline has three layers of increasing sophistication:</p> <pre class=mermaid><code>graph TD
    A[New/Updated Module] --&gt; B[Layer 1: Schema Validation]
    B --&gt; C{Schema Valid?}
    C -- No --&gt; D[Reject: Schema Error]
    C -- Yes --&gt; E[Layer 2: Quality Rubric Scoring]
    E --&gt; F{Score &gt;= Threshold?}
    F -- No --&gt; G[Flag: Human Review Queue]
    F -- Yes --&gt; H[Layer 3: Consistency Checks]
    H --&gt; I{Contradictions Found?}
    I -- Yes --&gt; J[Flag: Contradiction Alert]
    I -- No --&gt; K[Layer 4: Coverage Analysis]
    K --&gt; L[Coverage Report]
    G --&gt; M[Human Review]
    J --&gt; M
    M --&gt; N[Approved Module Library]
    K --&gt; N</code></pre> <p><strong>Layer 1: Schema Validation</strong> — Binary pass/fail. Does the module have all required fields? Are field types correct? Is the module ID unique? Is the version number valid? Schema violations are rejected immediately with a specific error message.</p> <p><strong>Layer 2: Quality Rubric Scoring</strong> — Scored assessment against style and quality criteria. Produces a numeric score; modules below the threshold are routed to human review with the scoring breakdown.</p> <p><strong>Layer 3: Consistency Checks</strong> — Cross-module comparison to detect contradictions, duplicate content, and conflicting terminology.</p> <p><strong>Layer 4: Coverage Analysis</strong> — Graph-level analysis of what is covered, what is missing, and which audiences have gaps.</p> <hr> <h2 id=layer-1-schema-validation>Layer 1: Schema Validation<a class=headerlink href=#layer-1-schema-validation title="Permanent link">&para;</a></h2> <p>Schema validation uses a defined module schema (introduced in Chapter 2) and validates every module against it. This is implemented as a JSON Schema or Pydantic model validation.</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=kn>from</span><span class=w> </span><span class=nn>pydantic</span><span class=w> </span><span class=kn>import</span> <span class=n>BaseModel</span><span class=p>,</span> <span class=n>validator</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=kn>from</span><span class=w> </span><span class=nn>typing</span><span class=w> </span><span class=kn>import</span> <span class=n>Optional</span><span class=p>,</span> <span class=n>Literal</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=kn>from</span><span class=w> </span><span class=nn>datetime</span><span class=w> </span><span class=kn>import</span> <span class=n>date</span>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=kn>import</span><span class=w> </span><span class=nn>re</span>
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a>
</span><span id=__span-0-6><a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=n>VALID_STATUSES</span> <span class=o>=</span> <span class=p>[</span><span class=s2>&quot;draft&quot;</span><span class=p>,</span> <span class=s2>&quot;review&quot;</span><span class=p>,</span> <span class=s2>&quot;approved&quot;</span><span class=p>,</span> <span class=s2>&quot;deprecated&quot;</span><span class=p>]</span>
</span><span id=__span-0-7><a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a><span class=n>VALID_MODULE_TYPES</span> <span class=o>=</span> <span class=p>[</span><span class=s2>&quot;concept&quot;</span><span class=p>,</span> <span class=s2>&quot;procedure&quot;</span><span class=p>,</span> <span class=s2>&quot;reference&quot;</span><span class=p>,</span> <span class=s2>&quot;example&quot;</span><span class=p>,</span> <span class=s2>&quot;warning&quot;</span><span class=p>]</span>
</span><span id=__span-0-8><a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a><span class=n>VALID_RELEVANCE</span> <span class=o>=</span> <span class=p>[</span><span class=s2>&quot;primary&quot;</span><span class=p>,</span> <span class=s2>&quot;secondary&quot;</span><span class=p>,</span> <span class=s2>&quot;none&quot;</span><span class=p>]</span>
</span><span id=__span-0-9><a id=__codelineno-0-9 name=__codelineno-0-9 href=#__codelineno-0-9></a>
</span><span id=__span-0-10><a id=__codelineno-0-10 name=__codelineno-0-10 href=#__codelineno-0-10></a><span class=k>class</span><span class=w> </span><span class=nc>AudienceRelevance</span><span class=p>(</span><span class=n>BaseModel</span><span class=p>):</span>
</span><span id=__span-0-11><a id=__codelineno-0-11 name=__codelineno-0-11 href=#__codelineno-0-11></a>    <span class=n>integration_developer</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>Literal</span><span class=p>[</span><span class=s2>&quot;primary&quot;</span><span class=p>,</span> <span class=s2>&quot;secondary&quot;</span><span class=p>,</span> <span class=s2>&quot;none&quot;</span><span class=p>]]</span> <span class=o>=</span> <span class=kc>None</span>
</span><span id=__span-0-12><a id=__codelineno-0-12 name=__codelineno-0-12 href=#__codelineno-0-12></a>    <span class=n>system_administrator</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>Literal</span><span class=p>[</span><span class=s2>&quot;primary&quot;</span><span class=p>,</span> <span class=s2>&quot;secondary&quot;</span><span class=p>,</span> <span class=s2>&quot;none&quot;</span><span class=p>]]</span> <span class=o>=</span> <span class=kc>None</span>
</span><span id=__span-0-13><a id=__codelineno-0-13 name=__codelineno-0-13 href=#__codelineno-0-13></a>    <span class=n>sales_engineer</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>Literal</span><span class=p>[</span><span class=s2>&quot;primary&quot;</span><span class=p>,</span> <span class=s2>&quot;secondary&quot;</span><span class=p>,</span> <span class=s2>&quot;none&quot;</span><span class=p>]]</span> <span class=o>=</span> <span class=kc>None</span>
</span><span id=__span-0-14><a id=__codelineno-0-14 name=__codelineno-0-14 href=#__codelineno-0-14></a>    <span class=n>end_user</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>Literal</span><span class=p>[</span><span class=s2>&quot;primary&quot;</span><span class=p>,</span> <span class=s2>&quot;secondary&quot;</span><span class=p>,</span> <span class=s2>&quot;none&quot;</span><span class=p>]]</span> <span class=o>=</span> <span class=kc>None</span>
</span><span id=__span-0-15><a id=__codelineno-0-15 name=__codelineno-0-15 href=#__codelineno-0-15></a>
</span><span id=__span-0-16><a id=__codelineno-0-16 name=__codelineno-0-16 href=#__codelineno-0-16></a><span class=k>class</span><span class=w> </span><span class=nc>ContentModule</span><span class=p>(</span><span class=n>BaseModel</span><span class=p>):</span>
</span><span id=__span-0-17><a id=__codelineno-0-17 name=__codelineno-0-17 href=#__codelineno-0-17></a>    <span class=n>module_id</span><span class=p>:</span> <span class=nb>str</span>
</span><span id=__span-0-18><a id=__codelineno-0-18 name=__codelineno-0-18 href=#__codelineno-0-18></a>    <span class=n>module_type</span><span class=p>:</span> <span class=n>Literal</span><span class=p>[</span><span class=s2>&quot;concept&quot;</span><span class=p>,</span> <span class=s2>&quot;procedure&quot;</span><span class=p>,</span> <span class=s2>&quot;reference&quot;</span><span class=p>,</span> <span class=s2>&quot;example&quot;</span><span class=p>,</span> <span class=s2>&quot;warning&quot;</span><span class=p>]</span>
</span><span id=__span-0-19><a id=__codelineno-0-19 name=__codelineno-0-19 href=#__codelineno-0-19></a>    <span class=n>version</span><span class=p>:</span> <span class=nb>str</span>
</span><span id=__span-0-20><a id=__codelineno-0-20 name=__codelineno-0-20 href=#__codelineno-0-20></a>    <span class=n>title</span><span class=p>:</span> <span class=nb>str</span>
</span><span id=__span-0-21><a id=__codelineno-0-21 name=__codelineno-0-21 href=#__codelineno-0-21></a>    <span class=n>body</span><span class=p>:</span> <span class=nb>str</span>
</span><span id=__span-0-22><a id=__codelineno-0-22 name=__codelineno-0-22 href=#__codelineno-0-22></a>    <span class=n>source_reference</span><span class=p>:</span> <span class=nb>str</span>
</span><span id=__span-0-23><a id=__codelineno-0-23 name=__codelineno-0-23 href=#__codelineno-0-23></a>    <span class=n>audience_relevance</span><span class=p>:</span> <span class=n>AudienceRelevance</span>
</span><span id=__span-0-24><a id=__codelineno-0-24 name=__codelineno-0-24 href=#__codelineno-0-24></a>    <span class=n>last_verified</span><span class=p>:</span> <span class=n>date</span>
</span><span id=__span-0-25><a id=__codelineno-0-25 name=__codelineno-0-25 href=#__codelineno-0-25></a>    <span class=n>status</span><span class=p>:</span> <span class=n>Literal</span><span class=p>[</span><span class=s2>&quot;draft&quot;</span><span class=p>,</span> <span class=s2>&quot;review&quot;</span><span class=p>,</span> <span class=s2>&quot;approved&quot;</span><span class=p>,</span> <span class=s2>&quot;deprecated&quot;</span><span class=p>]</span>
</span><span id=__span-0-26><a id=__codelineno-0-26 name=__codelineno-0-26 href=#__codelineno-0-26></a>
</span><span id=__span-0-27><a id=__codelineno-0-27 name=__codelineno-0-27 href=#__codelineno-0-27></a>    <span class=nd>@validator</span><span class=p>(</span><span class=s2>&quot;module_id&quot;</span><span class=p>)</span>
</span><span id=__span-0-28><a id=__codelineno-0-28 name=__codelineno-0-28 href=#__codelineno-0-28></a>    <span class=k>def</span><span class=w> </span><span class=nf>id_must_be_slug</span><span class=p>(</span><span class=bp>cls</span><span class=p>,</span> <span class=n>v</span><span class=p>):</span>
</span><span id=__span-0-29><a id=__codelineno-0-29 name=__codelineno-0-29 href=#__codelineno-0-29></a>        <span class=k>if</span> <span class=ow>not</span> <span class=n>re</span><span class=o>.</span><span class=n>match</span><span class=p>(</span><span class=sa>r</span><span class=s1>&#39;^[a-z0-9][a-z0-9\-]+[a-z0-9]$&#39;</span><span class=p>,</span> <span class=n>v</span><span class=p>):</span>
</span><span id=__span-0-30><a id=__codelineno-0-30 name=__codelineno-0-30 href=#__codelineno-0-30></a>            <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=s2>&quot;module_id must be lowercase slug (letters, numbers, hyphens)&quot;</span><span class=p>)</span>
</span><span id=__span-0-31><a id=__codelineno-0-31 name=__codelineno-0-31 href=#__codelineno-0-31></a>        <span class=k>return</span> <span class=n>v</span>
</span><span id=__span-0-32><a id=__codelineno-0-32 name=__codelineno-0-32 href=#__codelineno-0-32></a>
</span><span id=__span-0-33><a id=__codelineno-0-33 name=__codelineno-0-33 href=#__codelineno-0-33></a>    <span class=nd>@validator</span><span class=p>(</span><span class=s2>&quot;version&quot;</span><span class=p>)</span>
</span><span id=__span-0-34><a id=__codelineno-0-34 name=__codelineno-0-34 href=#__codelineno-0-34></a>    <span class=k>def</span><span class=w> </span><span class=nf>version_must_be_semver</span><span class=p>(</span><span class=bp>cls</span><span class=p>,</span> <span class=n>v</span><span class=p>):</span>
</span><span id=__span-0-35><a id=__codelineno-0-35 name=__codelineno-0-35 href=#__codelineno-0-35></a>        <span class=k>if</span> <span class=ow>not</span> <span class=n>re</span><span class=o>.</span><span class=n>match</span><span class=p>(</span><span class=sa>r</span><span class=s1>&#39;^\d+\.\d+\.\d+$&#39;</span><span class=p>,</span> <span class=n>v</span><span class=p>):</span>
</span><span id=__span-0-36><a id=__codelineno-0-36 name=__codelineno-0-36 href=#__codelineno-0-36></a>            <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=s2>&quot;version must follow semver format: MAJOR.MINOR.PATCH&quot;</span><span class=p>)</span>
</span><span id=__span-0-37><a id=__codelineno-0-37 name=__codelineno-0-37 href=#__codelineno-0-37></a>        <span class=k>return</span> <span class=n>v</span>
</span><span id=__span-0-38><a id=__codelineno-0-38 name=__codelineno-0-38 href=#__codelineno-0-38></a>
</span><span id=__span-0-39><a id=__codelineno-0-39 name=__codelineno-0-39 href=#__codelineno-0-39></a><span class=k>def</span><span class=w> </span><span class=nf>validate_module</span><span class=p>(</span><span class=n>module_data</span><span class=p>:</span> <span class=nb>dict</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>tuple</span><span class=p>[</span><span class=nb>bool</span><span class=p>,</span> <span class=nb>list</span><span class=p>[</span><span class=nb>str</span><span class=p>]]:</span>
</span><span id=__span-0-40><a id=__codelineno-0-40 name=__codelineno-0-40 href=#__codelineno-0-40></a>    <span class=k>try</span><span class=p>:</span>
</span><span id=__span-0-41><a id=__codelineno-0-41 name=__codelineno-0-41 href=#__codelineno-0-41></a>        <span class=n>ContentModule</span><span class=p>(</span><span class=o>**</span><span class=n>module_data</span><span class=p>)</span>
</span><span id=__span-0-42><a id=__codelineno-0-42 name=__codelineno-0-42 href=#__codelineno-0-42></a>        <span class=k>return</span> <span class=kc>True</span><span class=p>,</span> <span class=p>[]</span>
</span><span id=__span-0-43><a id=__codelineno-0-43 name=__codelineno-0-43 href=#__codelineno-0-43></a>    <span class=k>except</span> <span class=ne>Exception</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span><span id=__span-0-44><a id=__codelineno-0-44 name=__codelineno-0-44 href=#__codelineno-0-44></a>        <span class=n>errors</span> <span class=o>=</span> <span class=p>[</span><span class=nb>str</span><span class=p>(</span><span class=n>err</span><span class=p>)</span> <span class=k>for</span> <span class=n>err</span> <span class=ow>in</span> <span class=n>e</span><span class=o>.</span><span class=n>errors</span><span class=p>()]</span>
</span><span id=__span-0-45><a id=__codelineno-0-45 name=__codelineno-0-45 href=#__codelineno-0-45></a>        <span class=k>return</span> <span class=kc>False</span><span class=p>,</span> <span class=n>errors</span>
</span></code></pre></div> <p>Schema validation runs in milliseconds and catches a large class of authoring errors before they consume reviewer time.</p> <hr> <h2 id=layer-2-quality-rubric-scoring>Layer 2: Quality Rubric Scoring<a class=headerlink href=#layer-2-quality-rubric-scoring title="Permanent link">&para;</a></h2> <p>A quality rubric evaluates each module against a set of weighted criteria. The rubric is designed by content operations leaders and encodes the standards that would otherwise live in a style guide and require human interpretation.</p> <h3 id=rubric-design>Rubric Design<a class=headerlink href=#rubric-design title="Permanent link">&para;</a></h3> <p>A rubric for concept modules:</p> <table> <thead> <tr> <th>Criterion</th> <th>Weight</th> <th>Evaluation Method</th> </tr> </thead> <tbody> <tr> <td>Definition clarity</td> <td>15%</td> <td>Definition field present, 1-3 sentences, no jargon without definition</td> </tr> <tr> <td>Length target</td> <td>10%</td> <td>Body between 200-500 words</td> </tr> <tr> <td>No forbidden phrases</td> <td>15%</td> <td>Regex check: "simply," "just," "easy," "straightforward," etc.</td> </tr> <tr> <td>Active voice ratio</td> <td>10%</td> <td>NLP passive voice detection</td> </tr> <tr> <td>Source reference present</td> <td>20%</td> <td><code>source_reference</code> field populated</td> </tr> <tr> <td>Audience relevance specified</td> <td>15%</td> <td>At least one role set to "primary"</td> </tr> <tr> <td>No placeholder text</td> <td>15%</td> <td>No "[TBD]", "[PLACEHOLDER]", "[INSUFFICIENT DATA]" in approved status</td> </tr> </tbody> </table> <h3 id=rubric-implementation>Rubric Implementation<a class=headerlink href=#rubric-implementation title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-1-1><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=kn>import</span><span class=w> </span><span class=nn>re</span>
</span><span id=__span-1-2><a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a><span class=kn>from</span><span class=w> </span><span class=nn>spacy</span><span class=w> </span><span class=kn>import</span> <span class=n>load</span> <span class=k>as</span> <span class=n>spacy_load</span>
</span><span id=__span-1-3><a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a>
</span><span id=__span-1-4><a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a><span class=n>nlp</span> <span class=o>=</span> <span class=n>spacy_load</span><span class=p>(</span><span class=s2>&quot;en_core_web_sm&quot;</span><span class=p>)</span>
</span><span id=__span-1-5><a id=__codelineno-1-5 name=__codelineno-1-5 href=#__codelineno-1-5></a>
</span><span id=__span-1-6><a id=__codelineno-1-6 name=__codelineno-1-6 href=#__codelineno-1-6></a><span class=n>FORBIDDEN_PHRASES</span> <span class=o>=</span> <span class=p>[</span>
</span><span id=__span-1-7><a id=__codelineno-1-7 name=__codelineno-1-7 href=#__codelineno-1-7></a>    <span class=sa>r</span><span class=s1>&#39;\bsimply\b&#39;</span><span class=p>,</span> <span class=sa>r</span><span class=s1>&#39;\bjust\b&#39;</span><span class=p>,</span> <span class=sa>r</span><span class=s1>&#39;\beasy\b&#39;</span><span class=p>,</span> <span class=sa>r</span><span class=s1>&#39;\beasily\b&#39;</span><span class=p>,</span>
</span><span id=__span-1-8><a id=__codelineno-1-8 name=__codelineno-1-8 href=#__codelineno-1-8></a>    <span class=sa>r</span><span class=s1>&#39;\bstraightforward\b&#39;</span><span class=p>,</span> <span class=sa>r</span><span class=s1>&#39;\bobviously\b&#39;</span><span class=p>,</span> <span class=sa>r</span><span class=s1>&#39;\bof course\b&#39;</span>
</span><span id=__span-1-9><a id=__codelineno-1-9 name=__codelineno-1-9 href=#__codelineno-1-9></a><span class=p>]</span>
</span><span id=__span-1-10><a id=__codelineno-1-10 name=__codelineno-1-10 href=#__codelineno-1-10></a>
</span><span id=__span-1-11><a id=__codelineno-1-11 name=__codelineno-1-11 href=#__codelineno-1-11></a><span class=n>PLACEHOLDER_PATTERNS</span> <span class=o>=</span> <span class=p>[</span>
</span><span id=__span-1-12><a id=__codelineno-1-12 name=__codelineno-1-12 href=#__codelineno-1-12></a>    <span class=sa>r</span><span class=s1>&#39;\[TBD\]&#39;</span><span class=p>,</span> <span class=sa>r</span><span class=s1>&#39;\[PLACEHOLDER\]&#39;</span><span class=p>,</span> <span class=sa>r</span><span class=s1>&#39;\[INSUFFICIENT DATA\]&#39;</span><span class=p>,</span>
</span><span id=__span-1-13><a id=__codelineno-1-13 name=__codelineno-1-13 href=#__codelineno-1-13></a>    <span class=sa>r</span><span class=s1>&#39;\[INSERT\]&#39;</span><span class=p>,</span> <span class=sa>r</span><span class=s1>&#39;\[FIXME\]&#39;</span>
</span><span id=__span-1-14><a id=__codelineno-1-14 name=__codelineno-1-14 href=#__codelineno-1-14></a><span class=p>]</span>
</span><span id=__span-1-15><a id=__codelineno-1-15 name=__codelineno-1-15 href=#__codelineno-1-15></a>
</span><span id=__span-1-16><a id=__codelineno-1-16 name=__codelineno-1-16 href=#__codelineno-1-16></a><span class=k>def</span><span class=w> </span><span class=nf>score_module</span><span class=p>(</span><span class=n>module</span><span class=p>:</span> <span class=nb>dict</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>dict</span><span class=p>:</span>
</span><span id=__span-1-17><a id=__codelineno-1-17 name=__codelineno-1-17 href=#__codelineno-1-17></a>    <span class=n>body</span> <span class=o>=</span> <span class=n>module</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;body&quot;</span><span class=p>,</span> <span class=s2>&quot;&quot;</span><span class=p>)</span>
</span><span id=__span-1-18><a id=__codelineno-1-18 name=__codelineno-1-18 href=#__codelineno-1-18></a>    <span class=n>scores</span> <span class=o>=</span> <span class=p>{}</span>
</span><span id=__span-1-19><a id=__codelineno-1-19 name=__codelineno-1-19 href=#__codelineno-1-19></a>
</span><span id=__span-1-20><a id=__codelineno-1-20 name=__codelineno-1-20 href=#__codelineno-1-20></a>    <span class=c1># Length target (200-500 words for concept)</span>
</span><span id=__span-1-21><a id=__codelineno-1-21 name=__codelineno-1-21 href=#__codelineno-1-21></a>    <span class=n>word_count</span> <span class=o>=</span> <span class=nb>len</span><span class=p>(</span><span class=n>body</span><span class=o>.</span><span class=n>split</span><span class=p>())</span>
</span><span id=__span-1-22><a id=__codelineno-1-22 name=__codelineno-1-22 href=#__codelineno-1-22></a>    <span class=k>if</span> <span class=n>module</span><span class=p>[</span><span class=s2>&quot;module_type&quot;</span><span class=p>]</span> <span class=o>==</span> <span class=s2>&quot;concept&quot;</span><span class=p>:</span>
</span><span id=__span-1-23><a id=__codelineno-1-23 name=__codelineno-1-23 href=#__codelineno-1-23></a>        <span class=k>if</span> <span class=mi>200</span> <span class=o>&lt;=</span> <span class=n>word_count</span> <span class=o>&lt;=</span> <span class=mi>500</span><span class=p>:</span>
</span><span id=__span-1-24><a id=__codelineno-1-24 name=__codelineno-1-24 href=#__codelineno-1-24></a>            <span class=n>scores</span><span class=p>[</span><span class=s2>&quot;length_target&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=mf>1.0</span>
</span><span id=__span-1-25><a id=__codelineno-1-25 name=__codelineno-1-25 href=#__codelineno-1-25></a>        <span class=k>elif</span> <span class=mi>150</span> <span class=o>&lt;=</span> <span class=n>word_count</span> <span class=o>&lt;</span> <span class=mi>200</span> <span class=ow>or</span> <span class=mi>500</span> <span class=o>&lt;</span> <span class=n>word_count</span> <span class=o>&lt;=</span> <span class=mi>600</span><span class=p>:</span>
</span><span id=__span-1-26><a id=__codelineno-1-26 name=__codelineno-1-26 href=#__codelineno-1-26></a>            <span class=n>scores</span><span class=p>[</span><span class=s2>&quot;length_target&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=mf>0.5</span>
</span><span id=__span-1-27><a id=__codelineno-1-27 name=__codelineno-1-27 href=#__codelineno-1-27></a>        <span class=k>else</span><span class=p>:</span>
</span><span id=__span-1-28><a id=__codelineno-1-28 name=__codelineno-1-28 href=#__codelineno-1-28></a>            <span class=n>scores</span><span class=p>[</span><span class=s2>&quot;length_target&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=mf>0.0</span>
</span><span id=__span-1-29><a id=__codelineno-1-29 name=__codelineno-1-29 href=#__codelineno-1-29></a>
</span><span id=__span-1-30><a id=__codelineno-1-30 name=__codelineno-1-30 href=#__codelineno-1-30></a>    <span class=c1># Forbidden phrases</span>
</span><span id=__span-1-31><a id=__codelineno-1-31 name=__codelineno-1-31 href=#__codelineno-1-31></a>    <span class=n>forbidden_found</span> <span class=o>=</span> <span class=nb>sum</span><span class=p>(</span>
</span><span id=__span-1-32><a id=__codelineno-1-32 name=__codelineno-1-32 href=#__codelineno-1-32></a>        <span class=mi>1</span> <span class=k>for</span> <span class=n>p</span> <span class=ow>in</span> <span class=n>FORBIDDEN_PHRASES</span> <span class=k>if</span> <span class=n>re</span><span class=o>.</span><span class=n>search</span><span class=p>(</span><span class=n>p</span><span class=p>,</span> <span class=n>body</span><span class=p>,</span> <span class=n>re</span><span class=o>.</span><span class=n>IGNORECASE</span><span class=p>)</span>
</span><span id=__span-1-33><a id=__codelineno-1-33 name=__codelineno-1-33 href=#__codelineno-1-33></a>    <span class=p>)</span>
</span><span id=__span-1-34><a id=__codelineno-1-34 name=__codelineno-1-34 href=#__codelineno-1-34></a>    <span class=n>scores</span><span class=p>[</span><span class=s2>&quot;forbidden_phrases&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=nb>max</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mf>1.0</span> <span class=o>-</span> <span class=p>(</span><span class=n>forbidden_found</span> <span class=o>*</span> <span class=mf>0.25</span><span class=p>))</span>
</span><span id=__span-1-35><a id=__codelineno-1-35 name=__codelineno-1-35 href=#__codelineno-1-35></a>
</span><span id=__span-1-36><a id=__codelineno-1-36 name=__codelineno-1-36 href=#__codelineno-1-36></a>    <span class=c1># Source reference</span>
</span><span id=__span-1-37><a id=__codelineno-1-37 name=__codelineno-1-37 href=#__codelineno-1-37></a>    <span class=n>scores</span><span class=p>[</span><span class=s2>&quot;source_reference&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=mf>1.0</span> <span class=k>if</span> <span class=n>module</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;source_reference&quot;</span><span class=p>)</span> <span class=k>else</span> <span class=mf>0.0</span>
</span><span id=__span-1-38><a id=__codelineno-1-38 name=__codelineno-1-38 href=#__codelineno-1-38></a>
</span><span id=__span-1-39><a id=__codelineno-1-39 name=__codelineno-1-39 href=#__codelineno-1-39></a>    <span class=c1># Audience relevance</span>
</span><span id=__span-1-40><a id=__codelineno-1-40 name=__codelineno-1-40 href=#__codelineno-1-40></a>    <span class=n>relevance</span> <span class=o>=</span> <span class=n>module</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;audience_relevance&quot;</span><span class=p>,</span> <span class=p>{})</span>
</span><span id=__span-1-41><a id=__codelineno-1-41 name=__codelineno-1-41 href=#__codelineno-1-41></a>    <span class=n>has_primary</span> <span class=o>=</span> <span class=nb>any</span><span class=p>(</span><span class=n>v</span> <span class=o>==</span> <span class=s2>&quot;primary&quot;</span> <span class=k>for</span> <span class=n>v</span> <span class=ow>in</span> <span class=n>relevance</span><span class=o>.</span><span class=n>values</span><span class=p>())</span>
</span><span id=__span-1-42><a id=__codelineno-1-42 name=__codelineno-1-42 href=#__codelineno-1-42></a>    <span class=n>scores</span><span class=p>[</span><span class=s2>&quot;audience_relevance&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=mf>1.0</span> <span class=k>if</span> <span class=n>has_primary</span> <span class=k>else</span> <span class=mf>0.0</span>
</span><span id=__span-1-43><a id=__codelineno-1-43 name=__codelineno-1-43 href=#__codelineno-1-43></a>
</span><span id=__span-1-44><a id=__codelineno-1-44 name=__codelineno-1-44 href=#__codelineno-1-44></a>    <span class=c1># Placeholder check (critical for approved status)</span>
</span><span id=__span-1-45><a id=__codelineno-1-45 name=__codelineno-1-45 href=#__codelineno-1-45></a>    <span class=n>has_placeholder</span> <span class=o>=</span> <span class=nb>any</span><span class=p>(</span><span class=n>re</span><span class=o>.</span><span class=n>search</span><span class=p>(</span><span class=n>p</span><span class=p>,</span> <span class=n>body</span><span class=p>)</span> <span class=k>for</span> <span class=n>p</span> <span class=ow>in</span> <span class=n>PLACEHOLDER_PATTERNS</span><span class=p>)</span>
</span><span id=__span-1-46><a id=__codelineno-1-46 name=__codelineno-1-46 href=#__codelineno-1-46></a>    <span class=n>scores</span><span class=p>[</span><span class=s2>&quot;no_placeholder&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=mf>0.0</span> <span class=k>if</span> <span class=n>has_placeholder</span> <span class=k>else</span> <span class=mf>1.0</span>
</span><span id=__span-1-47><a id=__codelineno-1-47 name=__codelineno-1-47 href=#__codelineno-1-47></a>
</span><span id=__span-1-48><a id=__codelineno-1-48 name=__codelineno-1-48 href=#__codelineno-1-48></a>    <span class=c1># Weighted composite</span>
</span><span id=__span-1-49><a id=__codelineno-1-49 name=__codelineno-1-49 href=#__codelineno-1-49></a>    <span class=n>weights</span> <span class=o>=</span> <span class=p>{</span>
</span><span id=__span-1-50><a id=__codelineno-1-50 name=__codelineno-1-50 href=#__codelineno-1-50></a>        <span class=s2>&quot;length_target&quot;</span><span class=p>:</span> <span class=mf>0.10</span><span class=p>,</span>
</span><span id=__span-1-51><a id=__codelineno-1-51 name=__codelineno-1-51 href=#__codelineno-1-51></a>        <span class=s2>&quot;forbidden_phrases&quot;</span><span class=p>:</span> <span class=mf>0.15</span><span class=p>,</span>
</span><span id=__span-1-52><a id=__codelineno-1-52 name=__codelineno-1-52 href=#__codelineno-1-52></a>        <span class=s2>&quot;source_reference&quot;</span><span class=p>:</span> <span class=mf>0.20</span><span class=p>,</span>
</span><span id=__span-1-53><a id=__codelineno-1-53 name=__codelineno-1-53 href=#__codelineno-1-53></a>        <span class=s2>&quot;audience_relevance&quot;</span><span class=p>:</span> <span class=mf>0.15</span><span class=p>,</span>
</span><span id=__span-1-54><a id=__codelineno-1-54 name=__codelineno-1-54 href=#__codelineno-1-54></a>        <span class=s2>&quot;no_placeholder&quot;</span><span class=p>:</span> <span class=mf>0.40</span>
</span><span id=__span-1-55><a id=__codelineno-1-55 name=__codelineno-1-55 href=#__codelineno-1-55></a>    <span class=p>}</span>
</span><span id=__span-1-56><a id=__codelineno-1-56 name=__codelineno-1-56 href=#__codelineno-1-56></a>
</span><span id=__span-1-57><a id=__codelineno-1-57 name=__codelineno-1-57 href=#__codelineno-1-57></a>    <span class=n>composite</span> <span class=o>=</span> <span class=nb>sum</span><span class=p>(</span><span class=n>scores</span><span class=p>[</span><span class=n>k</span><span class=p>]</span> <span class=o>*</span> <span class=n>weights</span><span class=p>[</span><span class=n>k</span><span class=p>]</span> <span class=k>for</span> <span class=n>k</span> <span class=ow>in</span> <span class=n>weights</span><span class=p>)</span>
</span><span id=__span-1-58><a id=__codelineno-1-58 name=__codelineno-1-58 href=#__codelineno-1-58></a>
</span><span id=__span-1-59><a id=__codelineno-1-59 name=__codelineno-1-59 href=#__codelineno-1-59></a>    <span class=k>return</span> <span class=p>{</span>
</span><span id=__span-1-60><a id=__codelineno-1-60 name=__codelineno-1-60 href=#__codelineno-1-60></a>        <span class=s2>&quot;module_id&quot;</span><span class=p>:</span> <span class=n>module</span><span class=p>[</span><span class=s2>&quot;module_id&quot;</span><span class=p>],</span>
</span><span id=__span-1-61><a id=__codelineno-1-61 name=__codelineno-1-61 href=#__codelineno-1-61></a>        <span class=s2>&quot;composite_score&quot;</span><span class=p>:</span> <span class=nb>round</span><span class=p>(</span><span class=n>composite</span><span class=p>,</span> <span class=mi>3</span><span class=p>),</span>
</span><span id=__span-1-62><a id=__codelineno-1-62 name=__codelineno-1-62 href=#__codelineno-1-62></a>        <span class=s2>&quot;criterion_scores&quot;</span><span class=p>:</span> <span class=n>scores</span><span class=p>,</span>
</span><span id=__span-1-63><a id=__codelineno-1-63 name=__codelineno-1-63 href=#__codelineno-1-63></a>        <span class=s2>&quot;passed&quot;</span><span class=p>:</span> <span class=n>composite</span> <span class=o>&gt;=</span> <span class=mf>0.75</span><span class=p>,</span>
</span><span id=__span-1-64><a id=__codelineno-1-64 name=__codelineno-1-64 href=#__codelineno-1-64></a>        <span class=s2>&quot;flags&quot;</span><span class=p>:</span> <span class=p>[</span><span class=n>k</span> <span class=k>for</span> <span class=n>k</span><span class=p>,</span> <span class=n>v</span> <span class=ow>in</span> <span class=n>scores</span><span class=o>.</span><span class=n>items</span><span class=p>()</span> <span class=k>if</span> <span class=n>v</span> <span class=o>&lt;</span> <span class=mf>0.5</span><span class=p>]</span>
</span><span id=__span-1-65><a id=__codelineno-1-65 name=__codelineno-1-65 href=#__codelineno-1-65></a>    <span class=p>}</span>
</span></code></pre></div> <p>The composite score and failing criteria are included in the review queue interface, so human reviewers know exactly what to look at.</p> <hr> <h2 id=layer-3-consistency-checks>Layer 3: Consistency Checks<a class=headerlink href=#layer-3-consistency-checks title="Permanent link">&para;</a></h2> <p>Consistency checks operate across the module library, not just on individual modules. They detect:</p> <p><strong>Terminology contradictions</strong> — Two modules use different terms for the same concept. Example: one module calls it "API key," another calls it "access token," a third calls it "client credential." The check compares noun phrases across modules and flags clusters with high semantic similarity but different terminology.</p> <p><strong>Factual contradictions</strong> — Two modules make conflicting factual claims about the same entity. Example: one module states the rate limit is 100 requests/minute, another states 1000. This check uses entity extraction to identify claims about the same entity and compares them.</p> <p><strong>Coverage duplication</strong> — Two modules substantially overlap in content. This indicates either a boundary problem (two modules that should be one) or duplication (one module that should reference the other). Detected via cosine similarity on embeddings.</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-2-1><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a><span class=kn>from</span><span class=w> </span><span class=nn>sentence_transformers</span><span class=w> </span><span class=kn>import</span> <span class=n>SentenceTransformer</span>
</span><span id=__span-2-2><a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a><span class=kn>from</span><span class=w> </span><span class=nn>sklearn.metrics.pairwise</span><span class=w> </span><span class=kn>import</span> <span class=n>cosine_similarity</span>
</span><span id=__span-2-3><a id=__codelineno-2-3 name=__codelineno-2-3 href=#__codelineno-2-3></a><span class=kn>import</span><span class=w> </span><span class=nn>numpy</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nn>np</span>
</span><span id=__span-2-4><a id=__codelineno-2-4 name=__codelineno-2-4 href=#__codelineno-2-4></a>
</span><span id=__span-2-5><a id=__codelineno-2-5 name=__codelineno-2-5 href=#__codelineno-2-5></a><span class=n>model</span> <span class=o>=</span> <span class=n>SentenceTransformer</span><span class=p>(</span><span class=s1>&#39;all-MiniLM-L6-v2&#39;</span><span class=p>)</span>
</span><span id=__span-2-6><a id=__codelineno-2-6 name=__codelineno-2-6 href=#__codelineno-2-6></a>
</span><span id=__span-2-7><a id=__codelineno-2-7 name=__codelineno-2-7 href=#__codelineno-2-7></a><span class=k>def</span><span class=w> </span><span class=nf>check_duplication</span><span class=p>(</span><span class=n>modules</span><span class=p>:</span> <span class=nb>list</span><span class=p>,</span> <span class=n>threshold</span><span class=p>:</span> <span class=nb>float</span> <span class=o>=</span> <span class=mf>0.88</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>list</span><span class=p>:</span>
</span><span id=__span-2-8><a id=__codelineno-2-8 name=__codelineno-2-8 href=#__codelineno-2-8></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Identify module pairs with suspiciously high content overlap.&quot;&quot;&quot;</span>
</span><span id=__span-2-9><a id=__codelineno-2-9 name=__codelineno-2-9 href=#__codelineno-2-9></a>    <span class=n>bodies</span> <span class=o>=</span> <span class=p>[</span><span class=n>m</span><span class=p>[</span><span class=s2>&quot;body&quot;</span><span class=p>]</span> <span class=k>for</span> <span class=n>m</span> <span class=ow>in</span> <span class=n>modules</span><span class=p>]</span>
</span><span id=__span-2-10><a id=__codelineno-2-10 name=__codelineno-2-10 href=#__codelineno-2-10></a>    <span class=n>ids</span> <span class=o>=</span> <span class=p>[</span><span class=n>m</span><span class=p>[</span><span class=s2>&quot;module_id&quot;</span><span class=p>]</span> <span class=k>for</span> <span class=n>m</span> <span class=ow>in</span> <span class=n>modules</span><span class=p>]</span>
</span><span id=__span-2-11><a id=__codelineno-2-11 name=__codelineno-2-11 href=#__codelineno-2-11></a>
</span><span id=__span-2-12><a id=__codelineno-2-12 name=__codelineno-2-12 href=#__codelineno-2-12></a>    <span class=n>embeddings</span> <span class=o>=</span> <span class=n>model</span><span class=o>.</span><span class=n>encode</span><span class=p>(</span><span class=n>bodies</span><span class=p>)</span>
</span><span id=__span-2-13><a id=__codelineno-2-13 name=__codelineno-2-13 href=#__codelineno-2-13></a>    <span class=n>similarity_matrix</span> <span class=o>=</span> <span class=n>cosine_similarity</span><span class=p>(</span><span class=n>embeddings</span><span class=p>)</span>
</span><span id=__span-2-14><a id=__codelineno-2-14 name=__codelineno-2-14 href=#__codelineno-2-14></a>
</span><span id=__span-2-15><a id=__codelineno-2-15 name=__codelineno-2-15 href=#__codelineno-2-15></a>    <span class=n>duplicates</span> <span class=o>=</span> <span class=p>[]</span>
</span><span id=__span-2-16><a id=__codelineno-2-16 name=__codelineno-2-16 href=#__codelineno-2-16></a>    <span class=n>n</span> <span class=o>=</span> <span class=nb>len</span><span class=p>(</span><span class=n>modules</span><span class=p>)</span>
</span><span id=__span-2-17><a id=__codelineno-2-17 name=__codelineno-2-17 href=#__codelineno-2-17></a>    <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>n</span><span class=p>):</span>
</span><span id=__span-2-18><a id=__codelineno-2-18 name=__codelineno-2-18 href=#__codelineno-2-18></a>        <span class=k>for</span> <span class=n>j</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>i</span> <span class=o>+</span> <span class=mi>1</span><span class=p>,</span> <span class=n>n</span><span class=p>):</span>
</span><span id=__span-2-19><a id=__codelineno-2-19 name=__codelineno-2-19 href=#__codelineno-2-19></a>            <span class=k>if</span> <span class=n>similarity_matrix</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>j</span><span class=p>]</span> <span class=o>&gt;=</span> <span class=n>threshold</span><span class=p>:</span>
</span><span id=__span-2-20><a id=__codelineno-2-20 name=__codelineno-2-20 href=#__codelineno-2-20></a>                <span class=n>duplicates</span><span class=o>.</span><span class=n>append</span><span class=p>({</span>
</span><span id=__span-2-21><a id=__codelineno-2-21 name=__codelineno-2-21 href=#__codelineno-2-21></a>                    <span class=s2>&quot;module_a&quot;</span><span class=p>:</span> <span class=n>ids</span><span class=p>[</span><span class=n>i</span><span class=p>],</span>
</span><span id=__span-2-22><a id=__codelineno-2-22 name=__codelineno-2-22 href=#__codelineno-2-22></a>                    <span class=s2>&quot;module_b&quot;</span><span class=p>:</span> <span class=n>ids</span><span class=p>[</span><span class=n>j</span><span class=p>],</span>
</span><span id=__span-2-23><a id=__codelineno-2-23 name=__codelineno-2-23 href=#__codelineno-2-23></a>                    <span class=s2>&quot;similarity&quot;</span><span class=p>:</span> <span class=nb>round</span><span class=p>(</span><span class=nb>float</span><span class=p>(</span><span class=n>similarity_matrix</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>j</span><span class=p>]),</span> <span class=mi>3</span><span class=p>),</span>
</span><span id=__span-2-24><a id=__codelineno-2-24 name=__codelineno-2-24 href=#__codelineno-2-24></a>                    <span class=s2>&quot;action&quot;</span><span class=p>:</span> <span class=s2>&quot;review for merger or consolidation&quot;</span>
</span><span id=__span-2-25><a id=__codelineno-2-25 name=__codelineno-2-25 href=#__codelineno-2-25></a>                <span class=p>})</span>
</span><span id=__span-2-26><a id=__codelineno-2-26 name=__codelineno-2-26 href=#__codelineno-2-26></a>
</span><span id=__span-2-27><a id=__codelineno-2-27 name=__codelineno-2-27 href=#__codelineno-2-27></a>    <span class=k>return</span> <span class=n>duplicates</span>
</span></code></pre></div> <hr> <h2 id=layer-4-coverage-scoring>Layer 4: Coverage Scoring<a class=headerlink href=#layer-4-coverage-scoring title="Permanent link">&para;</a></h2> <p>Coverage analysis answers the question: for each audience and each learning outcome, how complete is the content?</p> <p>Coverage scoring works by traversing the knowledge graph and comparing required concepts (nodes reachable from outcome nodes via prerequisite chains) against available, approved modules.</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-3-1><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a><span class=k>def</span><span class=w> </span><span class=nf>calculate_coverage</span><span class=p>(</span>
</span><span id=__span-3-2><a id=__codelineno-3-2 name=__codelineno-3-2 href=#__codelineno-3-2></a>    <span class=n>graph</span><span class=p>,</span>
</span><span id=__span-3-3><a id=__codelineno-3-3 name=__codelineno-3-3 href=#__codelineno-3-3></a>    <span class=n>outcomes</span><span class=p>:</span> <span class=nb>list</span><span class=p>,</span>
</span><span id=__span-3-4><a id=__codelineno-3-4 name=__codelineno-3-4 href=#__codelineno-3-4></a>    <span class=n>audience_profile</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>
</span><span id=__span-3-5><a id=__codelineno-3-5 name=__codelineno-3-5 href=#__codelineno-3-5></a>    <span class=n>module_registry</span><span class=p>:</span> <span class=nb>list</span>
</span><span id=__span-3-6><a id=__codelineno-3-6 name=__codelineno-3-6 href=#__codelineno-3-6></a><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>dict</span><span class=p>:</span>
</span><span id=__span-3-7><a id=__codelineno-3-7 name=__codelineno-3-7 href=#__codelineno-3-7></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;</span>
</span><span id=__span-3-8><a id=__codelineno-3-8 name=__codelineno-3-8 href=#__codelineno-3-8></a><span class=sd>    Calculate content coverage for an audience relative to a set of outcomes.</span>
</span><span id=__span-3-9><a id=__codelineno-3-9 name=__codelineno-3-9 href=#__codelineno-3-9></a><span class=sd>    Returns coverage ratio and list of gaps.</span>
</span><span id=__span-3-10><a id=__codelineno-3-10 name=__codelineno-3-10 href=#__codelineno-3-10></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-3-11><a id=__codelineno-3-11 name=__codelineno-3-11 href=#__codelineno-3-11></a>    <span class=c1># All concepts required for these outcomes</span>
</span><span id=__span-3-12><a id=__codelineno-3-12 name=__codelineno-3-12 href=#__codelineno-3-12></a>    <span class=n>required_concepts</span> <span class=o>=</span> <span class=nb>set</span><span class=p>()</span>
</span><span id=__span-3-13><a id=__codelineno-3-13 name=__codelineno-3-13 href=#__codelineno-3-13></a>    <span class=k>for</span> <span class=n>outcome</span> <span class=ow>in</span> <span class=n>outcomes</span><span class=p>:</span>
</span><span id=__span-3-14><a id=__codelineno-3-14 name=__codelineno-3-14 href=#__codelineno-3-14></a>        <span class=n>prereqs</span> <span class=o>=</span> <span class=n>nx</span><span class=o>.</span><span class=n>ancestors</span><span class=p>(</span><span class=n>graph</span><span class=p>,</span> <span class=n>outcome</span><span class=p>)</span>
</span><span id=__span-3-15><a id=__codelineno-3-15 name=__codelineno-3-15 href=#__codelineno-3-15></a>        <span class=n>required_concepts</span><span class=o>.</span><span class=n>update</span><span class=p>(</span><span class=n>prereqs</span><span class=p>)</span>
</span><span id=__span-3-16><a id=__codelineno-3-16 name=__codelineno-3-16 href=#__codelineno-3-16></a>        <span class=n>required_concepts</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=n>outcome</span><span class=p>)</span>
</span><span id=__span-3-17><a id=__codelineno-3-17 name=__codelineno-3-17 href=#__codelineno-3-17></a>
</span><span id=__span-3-18><a id=__codelineno-3-18 name=__codelineno-3-18 href=#__codelineno-3-18></a>    <span class=c1># Approved modules for this audience</span>
</span><span id=__span-3-19><a id=__codelineno-3-19 name=__codelineno-3-19 href=#__codelineno-3-19></a>    <span class=n>covered_concepts</span> <span class=o>=</span> <span class=p>{</span>
</span><span id=__span-3-20><a id=__codelineno-3-20 name=__codelineno-3-20 href=#__codelineno-3-20></a>        <span class=n>m</span><span class=p>[</span><span class=s2>&quot;maps_to_concept&quot;</span><span class=p>]</span>
</span><span id=__span-3-21><a id=__codelineno-3-21 name=__codelineno-3-21 href=#__codelineno-3-21></a>        <span class=k>for</span> <span class=n>m</span> <span class=ow>in</span> <span class=n>module_registry</span>
</span><span id=__span-3-22><a id=__codelineno-3-22 name=__codelineno-3-22 href=#__codelineno-3-22></a>        <span class=k>if</span> <span class=p>(</span>
</span><span id=__span-3-23><a id=__codelineno-3-23 name=__codelineno-3-23 href=#__codelineno-3-23></a>            <span class=n>m</span><span class=p>[</span><span class=s2>&quot;status&quot;</span><span class=p>]</span> <span class=o>==</span> <span class=s2>&quot;approved&quot;</span> <span class=ow>and</span>
</span><span id=__span-3-24><a id=__codelineno-3-24 name=__codelineno-3-24 href=#__codelineno-3-24></a>            <span class=n>m</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;audience_relevance&quot;</span><span class=p>,</span> <span class=p>{})</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>audience_profile</span><span class=p>)</span> <span class=ow>in</span> <span class=p>[</span><span class=s2>&quot;primary&quot;</span><span class=p>,</span> <span class=s2>&quot;secondary&quot;</span><span class=p>]</span>
</span><span id=__span-3-25><a id=__codelineno-3-25 name=__codelineno-3-25 href=#__codelineno-3-25></a>        <span class=p>)</span>
</span><span id=__span-3-26><a id=__codelineno-3-26 name=__codelineno-3-26 href=#__codelineno-3-26></a>    <span class=p>}</span>
</span><span id=__span-3-27><a id=__codelineno-3-27 name=__codelineno-3-27 href=#__codelineno-3-27></a>
</span><span id=__span-3-28><a id=__codelineno-3-28 name=__codelineno-3-28 href=#__codelineno-3-28></a>    <span class=n>covered</span> <span class=o>=</span> <span class=n>required_concepts</span> <span class=o>&amp;</span> <span class=n>covered_concepts</span>
</span><span id=__span-3-29><a id=__codelineno-3-29 name=__codelineno-3-29 href=#__codelineno-3-29></a>    <span class=n>gaps</span> <span class=o>=</span> <span class=n>required_concepts</span> <span class=o>-</span> <span class=n>covered_concepts</span>
</span><span id=__span-3-30><a id=__codelineno-3-30 name=__codelineno-3-30 href=#__codelineno-3-30></a>
</span><span id=__span-3-31><a id=__codelineno-3-31 name=__codelineno-3-31 href=#__codelineno-3-31></a>    <span class=k>return</span> <span class=p>{</span>
</span><span id=__span-3-32><a id=__codelineno-3-32 name=__codelineno-3-32 href=#__codelineno-3-32></a>        <span class=s2>&quot;audience&quot;</span><span class=p>:</span> <span class=n>audience_profile</span><span class=p>,</span>
</span><span id=__span-3-33><a id=__codelineno-3-33 name=__codelineno-3-33 href=#__codelineno-3-33></a>        <span class=s2>&quot;outcomes&quot;</span><span class=p>:</span> <span class=n>outcomes</span><span class=p>,</span>
</span><span id=__span-3-34><a id=__codelineno-3-34 name=__codelineno-3-34 href=#__codelineno-3-34></a>        <span class=s2>&quot;required_concepts&quot;</span><span class=p>:</span> <span class=nb>len</span><span class=p>(</span><span class=n>required_concepts</span><span class=p>),</span>
</span><span id=__span-3-35><a id=__codelineno-3-35 name=__codelineno-3-35 href=#__codelineno-3-35></a>        <span class=s2>&quot;covered_concepts&quot;</span><span class=p>:</span> <span class=nb>len</span><span class=p>(</span><span class=n>covered</span><span class=p>),</span>
</span><span id=__span-3-36><a id=__codelineno-3-36 name=__codelineno-3-36 href=#__codelineno-3-36></a>        <span class=s2>&quot;coverage_ratio&quot;</span><span class=p>:</span> <span class=nb>len</span><span class=p>(</span><span class=n>covered</span><span class=p>)</span> <span class=o>/</span> <span class=nb>len</span><span class=p>(</span><span class=n>required_concepts</span><span class=p>)</span> <span class=k>if</span> <span class=n>required_concepts</span> <span class=k>else</span> <span class=mi>0</span><span class=p>,</span>
</span><span id=__span-3-37><a id=__codelineno-3-37 name=__codelineno-3-37 href=#__codelineno-3-37></a>        <span class=s2>&quot;gaps&quot;</span><span class=p>:</span> <span class=nb>sorted</span><span class=p>(</span><span class=nb>list</span><span class=p>(</span><span class=n>gaps</span><span class=p>)),</span>
</span><span id=__span-3-38><a id=__codelineno-3-38 name=__codelineno-3-38 href=#__codelineno-3-38></a>        <span class=s2>&quot;coverage_score&quot;</span><span class=p>:</span> <span class=nb>round</span><span class=p>(</span><span class=nb>len</span><span class=p>(</span><span class=n>covered</span><span class=p>)</span> <span class=o>/</span> <span class=nb>len</span><span class=p>(</span><span class=n>required_concepts</span><span class=p>)</span> <span class=o>*</span> <span class=mi>100</span><span class=p>,</span> <span class=mi>1</span><span class=p>)</span> <span class=k>if</span> <span class=n>required_concepts</span> <span class=k>else</span> <span class=mi>100</span>
</span><span id=__span-3-39><a id=__codelineno-3-39 name=__codelineno-3-39 href=#__codelineno-3-39></a>    <span class=p>}</span>
</span></code></pre></div> <p>The coverage report surfaces three actionable views:</p> <ol> <li><strong>By audience</strong> — Which roles have the highest coverage gaps?</li> <li><strong>By outcome</strong> — Which learning outcomes have the most missing prerequisites?</li> <li><strong>By priority</strong> — Which gaps block the highest number of outcomes (high-leverage items to address first)?</li> </ol> <hr> <h2 id=integrating-qa-into-the-review-workflow>Integrating QA Into the Review Workflow<a class=headerlink href=#integrating-qa-into-the-review-workflow title="Permanent link">&para;</a></h2> <p>QA checks run at two points in the content lifecycle:</p> <p><strong>Pre-merge validation</strong> — Run schema validation and rubric scoring as a pre-commit or CI/CD check. Modules that fail schema validation cannot be merged. Modules that fail rubric scoring are blocked for human review before merging.</p> <p><strong>Nightly full-library audit</strong> — Run consistency checks and coverage analysis across the full module library nightly. The output is a QA dashboard showing: - Coverage score by audience - Number of modules pending human review - Active contradiction flags - Terminology inconsistency reports - Trend lines over time</p> <p>The nightly audit is a reporting layer, not a blocking gate. It surfaces systemic issues for content operations review.</p> <hr> <h2 id=qa-dashboard-metrics>QA Dashboard Metrics<a class=headerlink href=#qa-dashboard-metrics title="Permanent link">&para;</a></h2> <p>The QA dashboard should report, at minimum:</p> <table> <thead> <tr> <th>Metric</th> <th>Description</th> <th>Target</th> </tr> </thead> <tbody> <tr> <td>Schema pass rate</td> <td>% of new modules passing schema validation</td> <td>&gt;99%</td> </tr> <tr> <td>Rubric pass rate</td> <td>% of modules scoring &gt;= 0.75</td> <td>&gt;85%</td> </tr> <tr> <td>Coverage by audience</td> <td>% of required concepts with approved modules</td> <td>&gt;90% per audience</td> </tr> <tr> <td>Contradiction count</td> <td>Active unresolved contradictions</td> <td>0</td> </tr> <tr> <td>Duplication flags</td> <td>Module pairs with &gt;88% similarity</td> <td>0</td> </tr> <tr> <td>Review queue depth</td> <td>Modules awaiting human review</td> <td>&lt;20</td> </tr> <tr> <td>Mean time to approve</td> <td>Average days from submission to approval</td> <td>&lt;3 days</td> </tr> </tbody> </table> <p>Track these metrics over time. Coverage below 80% for any primary audience indicates a structural content investment problem. Review queue depth above 50 indicates the automated pipeline is generating faster than humans can review — a signal to either increase reviewer capacity or raise quality thresholds to reduce queue volume.</p> <hr> <h2 id=key-takeaways>Key Takeaways<a class=headerlink href=#key-takeaways title="Permanent link">&para;</a></h2> <ul> <li>Manual content review cannot scale with AI-augmented generation; automated QA shifts human effort to judgment calls rather than mechanical checks.</li> <li>The four-layer QA pipeline — schema validation, rubric scoring, consistency checks, coverage analysis — catches different failure modes at appropriate points.</li> <li>Schema validation is binary and fast; it catches structural failures before they consume review time.</li> <li>Quality rubric scoring is weighted and configurable; it encodes the style guide as executable logic rather than a document to be interpreted.</li> <li>Consistency checks operate across the module library to detect terminology contradictions, factual conflicts, and content duplication.</li> <li>Coverage scoring identifies gaps by traversing the knowledge graph and comparing required concepts against approved modules.</li> <li>QA integrates at two points: pre-merge validation (blocking gate) and nightly full-library audit (reporting layer).</li> </ul> <hr> <p><em>Chapter 6: Content Drift Detection — Monitoring systems that flag when training content falls out of sync with the product it describes.</em></p> </article> </div> <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> </div> <div class=md-social> <a href=https://github.com/Yarmoluk target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"annotate": null, "base": "../..", "features": ["navigation.instant", "navigation.tracking", "navigation.tabs", "navigation.sections", "navigation.expand", "navigation.top", "toc.follow", "search.suggest", "search.highlight", "content.tabs.link", "content.code.copy", "content.code.annotate"], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script> <script src=../../assets/javascripts/bundle.79ae519e.min.js></script> </body> </html>